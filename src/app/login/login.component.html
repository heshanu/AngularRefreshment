<!-- auth.component.html -->
<div *ngIf="isAuthenticated$ | async ; else notAuthenticated">
  <h2>Welcome, {{ (user$ | async)?.name }}</h2>
  <app-home/>
</div>
<ng-template #notAuthenticated>
  <mat-card>
    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="onSubmit() ">
        {{ 'LOGIN' | translate }}
        <div>
          <input
           type="email" id="email" formControlName="email" name="email" 
           placeholder="{{ 'EMAIL_FIELD_PLACEHOLDER' | translate }}"
           formControlName="email"
          type="text"
          class="form-control"
          [ngClass]="{
              'is-invalid': submitted && f['email'].errors,
                  'is-valid':  !f['email'].errors
               }"
           >
           <div class="invalid-feedback" *ngIf="submitted && f['email'].errors">
            <div *ngIf="f['email'].errors['required']">Please Enter Email</div>
            <div *ngIf="f['email'].errors['email']">
              {{'EMAIL_ERROR'| translate}}
            </div>
          </div>
        </div>

        <div>
          <input
           type="password" id="password" name="password" formControlName="password" 
           placeholder="{{ 'PASSWORD_FIELD_PLACEHOLDER' | translate }}"
           formControlName="password"
          type="password"
          class="form-control"
          [ngClass]="{
              'is-invalid': submitted && f['password'].errors,
                  'is-valid':  !f['password'].errors
               }"
           >
           <div class="invalid-feedback" *ngIf="submitted && f['password'].errors">
            <div *ngIf="f['password'].errors['required']">Please Enter Password</div>
            <div *ngIf="f['password'].errors['password']">
              {{'PASSWORD_ERROR'|translate}}
            </div>
          </div>
        </div>  

        <button type="submit" mat-raised-button color="primary" 
        [disabled]="loginForm.invalid"
>{{'LOGIN'|translate}}</button>
      </form>
    </mat-card-content>
  </mat-card>
</ng-template>


